{"version":3,"sources":["components/TextInput.jsx","components/Button.jsx","pages/Signup.jsx","context/auth.js","pages/Login.jsx","components/Navbar.jsx","components/CreatePollForm.jsx","components/PollList.jsx","pages/Home.jsx","pages/Polls.jsx","pages/AdminPolls.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["TextInput","props","label","htmlFor","id","className","type","value","onChange","name","Button","color","tailwind","onClick","children","Signup","useState","email","setEmail","setName","password","setPassword","undefined","errorMessage","setErrorMessage","navigate","useNavigate","onSubmit","e","preventDefault","requestBody","axios","post","then","response","catch","error","errorDescrition","data","message","target","to","AuthContext","React","createContext","AuthProviderWrapper","isLoggedIn","setIsLoggedIn","user","setUser","isLoading","setIsLoading","verifyStoredToken","a","storedToken","localStorage","getItem","get","headers","Authorization","res","console","log","useEffect","Provider","loginUser","token","setItem","logoutUser","removeItem","Login","useContext","authToken","err","Navbar","CreatePollForm","question","setQuestion","text","uuidv4","answers","setAnswers","action","map","idx","ans","filter","length","_id","PollList","polls","m","class","src","Home","user_id","setText","Polls","useParams","poll","setPoll","selectedAnswer","setSelectedAnswer","answered","setAnswered","handleSubmit","pollId","owner","event","AdminPolls","chartData","setChartData","pollLink","window","location","href","split","updatePoll","votes","chartType","loader","role","sourceColumn","calc","options","title","width","height","bar","groupWidth","legend","position","rootProps","size","App","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.929c0e17.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const TextInput = (props) => {\r\n  return (\r\n    <div>\r\n      {props.label && (\r\n        <label htmlFor={props.id} className=\"leading-7 text-sm text-gray-600\">\r\n          {props.label}\r\n        </label>\r\n      )}\r\n      <input\r\n        type={ props.type ? props.type : \"text\"}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        id={props.id}\r\n        name={props.name}\r\n        className=\"w-full bg-white rounded border border-gray-300 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","export const Button = (props) => {\r\n  return (\r\n    <button\r\n      className={`${\r\n        props.color === \"secondary\"\r\n          ? \"text-gray-700 bg-gray-100 hover:bg-gray-200\"\r\n          : \"bg-yellow-500 text-white hover:bg-yellow-600\"\r\n      } mx-auto border-0 py-2 px-8 focus:outline-none rounded text-lg ${props.tailwind}`}\r\n      onClick={props.onClick}\r\n      type = {props.type}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { TextInput } from \"../components/TextInput\";\r\nimport { Button } from \"../components/Button\";\r\n\r\nexport const Signup = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(undefined);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const requestBody = { email, password, name };\r\n\r\n    axios\r\n      .post(\"api/auth/signup\", requestBody)\r\n      .then((response) => {\r\n        // redirect -> loginName\r\n        navigate(\"/login\");\r\n      })\r\n      .catch((error) => {\r\n        const errorDescrition = error.response.data.message;\r\n        setErrorMessage(errorDescrition);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className=\"text-black body-font bg-background-nft bg-cover h-full\">\r\n      <div className=\"container px-5 py-24 mx-auto flex flex-wrap items-center\">\r\n        <div className=\"lg:w-3/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0\">\r\n          <h1 className=\"title-font font-medium text-3xl text-black\">SurvIt</h1>\r\n          <p className=\"leading-relaxed mt-4 text-gray-800\">\r\n            Manage and access popup surveys. Get quick feedback faster than ever\r\n            before.\r\n          </p>\r\n        </div>\r\n        <div className=\"lg:w-2/6 md:w-1/2 bg-gray-100 rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0\">\r\n          <div className=\"relative mb-4\">\r\n            <form onSubmit={handleSubmit}>\r\n              <h2 className=\"text-gray-900 text-lg mb-1 font-medium title-font\">\r\n                Sign Up\r\n              </h2>\r\n              <div className=\"relative mb-4\">\r\n                <TextInput\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"relative mb-4\">\r\n                <TextInput\r\n                  id=\"name\"\r\n                  label=\"Username\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"relative mb-4\">\r\n                <TextInput\r\n                  id=\"password\"\r\n                  label=\"Password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </div>\r\n              <Button tailwind=\"w-full\" type=\"submit\">\r\n                Login\r\n              </Button>\r\n            </form>\r\n            {errorMessage && (\r\n              <p className=\"text-xs text-red-500 mt-3\">{errorMessage}</p>\r\n            )}\r\n            <p className=\"text-xs text-gray-500 mt-3\">\r\n              Already have an account?{\" \"}\r\n              <Link className=\"text-sm text-blue-500 hover:underline\" to=\"/login\">\r\n                Click here to login.\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nfunction AuthProviderWrapper(props) {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const loginUser = (token) => {\r\n    // store this token in local storage\r\n    localStorage.setItem(\"authToken\", token);\r\n    return verifyStoredToken();\r\n  };\r\n\r\n  const logoutUser = () => {\r\n    // remove the token from local storage\r\n    localStorage.removeItem(\"authToken\");\r\n    // update state\r\n    setIsLoggedIn(false);\r\n    setUser(null);\r\n  };\r\n\r\n  const verifyStoredToken = async () => {\r\n    // check local storage for an auth token\r\n    const storedToken = localStorage.getItem(\"authToken\");\r\n    if (storedToken) {\r\n      try {\r\n        const res = await axios.get(\"api/auth/verify\", {\r\n          headers: { Authorization: `Bearer ${storedToken}` },\r\n        });\r\n        console.log(res);\r\n        const user = res.data;\r\n        setUser(user);\r\n        setIsLoggedIn(true);\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        // the token is invalid\r\n        setIsLoggedIn(false);\r\n        setUser(null);\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      // token is not available\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    verifyStoredToken();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ isLoggedIn, user, isLoading, loginUser, logoutUser }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport { AuthProviderWrapper, AuthContext };\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../context/auth\";\r\nimport { TextInput } from \"../components/TextInput\";\r\nimport { Button } from \"../components/Button\";\r\n\r\nexport const Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(undefined);\r\n\r\n  const navigate = useNavigate();\r\n  const { loginUser } = useContext(AuthContext);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const requestBody = { email, password };\r\n\r\n    axios\r\n      .post(\"api/auth/login\", requestBody)\r\n      .then((response) => {\r\n        // redirect -> projects\r\n        // navigate('/login')\r\n        console.log(\"bearer token:\", response.data.authToken);\r\n        const token = response.data.authToken;\r\n        // call login user function from auth context\r\n        loginUser(token).then(res => navigate(\"/\"))\r\n      })\r\n      .catch((err) => {\r\n        const errorDescrition = err.response.data.message;\r\n        setErrorMessage(errorDescrition);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className=\"text-black body-font bg-background-nft bg-cover h-full\">\r\n      <div className=\"container px-5 py-24 mx-auto flex flex-wrap items-center\">\r\n        <div className=\"lg:w-3/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0\">\r\n          <h1 className=\"title-font font-medium text-3xl text-black\">SurvIt</h1>\r\n          <p className=\"leading-relaxed mt-4 text-gray-800\">\r\n            Manage and access popup surveys. Get quick feedback faster than ever\r\n            before.\r\n          </p>\r\n        </div>\r\n        <div className=\"lg:w-2/6 md:w-1/2 bg-gray-100 rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0\">\r\n          <div className=\"relative mb-4\">\r\n            <form onSubmit={handleSubmit}>\r\n              <h2 className=\"text-gray-900 text-lg mb-1 font-medium title-font\">\r\n                Login\r\n              </h2>\r\n              <div className=\"relative mb-4\">\r\n                <TextInput\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"relative mb-4\">\r\n                <TextInput\r\n                  id=\"password\"\r\n                  label=\"Password\"\r\n                  value={password}\r\n                  type=\"password\"\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </div>\r\n              <Button tailwind=\"w-full\" type=\"submit\">\r\n                Login\r\n              </Button>\r\n            </form>\r\n            {errorMessage && (\r\n              <p className=\"text-xs text-red-500 mt-3\">{errorMessage}</p>\r\n            )}\r\n            <p className=\"text-xs text-gray-500 mt-3\">\r\n            No account yet? click{\" \"}\r\n              <Link\r\n                className=\"text-sm text-blue-500 hover:underline\"\r\n                to=\"/signup\"\r\n              >\r\n                Click here to register.\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth\";\r\n\r\nexport const Navbar = () => {\r\n  const { isLoggedIn, user, logoutUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <nav>\r\n      <Link to=\"/\">\r\n        <button>Home</button>\r\n      </Link>\r\n      {isLoggedIn ? (\r\n        <>\r\n          <Link to=\"/my-polls\">\r\n            <button>My Polls</button>\r\n          </Link>\r\n          <button onClick={logoutUser}>Logout</button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Link to=\"/signup\">\r\n            <button>Signup</button>\r\n          </Link>\r\n          <Link to=\"/login\">\r\n            <button>Login</button>\r\n          </Link>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth\";\r\nimport { Button } from \"./Button\";\r\nimport { TextInput } from \"./TextInput\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport axios from 'axios';\r\n\r\nexport const CreatePollForm = () => {\r\n  const [question, setQuestion] = useState(\"asd\");\r\n  const [answers, setAnswers] = useState([{ text: \"\", id: uuidv4() },{ text: \"\", id: uuidv4() }]);\r\n  const {user} = useContext(AuthContext);\r\n\r\n  const handleAddAnswer = (e) => {\r\n    e.preventDefault();\r\n    answers.length < 5 && setAnswers([...answers, { text: \"\", id: uuidv4() }]);\r\n  };\r\n\r\n  const deleteAnswer = (id) => setAnswers(answers.filter((a) => a.id !== id));\r\n\r\n  const setAnswer = (id, text) =>\r\n    setAnswers((ans) => ans.map((a) => (a.id === id ? { text, id } : a)));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const requestBody = { question, answers, user: user._id };\r\n    console.log(requestBody);\r\n\r\n    axios\r\n      .post(\"api/polls\", requestBody)\r\n      .then((res) => {\r\n          console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <form action=\"\">\r\n        <h1>create poll</h1>\r\n        <TextInput\r\n          value={question}\r\n          onChange={(e) => setQuestion(e.target.value)}\r\n          label=\"Question\"\r\n        />\r\n        <div>\r\n          {answers.map((a, idx) => {\r\n            return (\r\n              <div className=\"flex\" key={a.id}>\r\n                <TextInput\r\n                  value={a.text}\r\n                  onChange={(e) => setAnswer(a.id, e.target.value)}\r\n                  label={`#${idx + 1} Answer`}\r\n                />\r\n                <Button onClick={() => deleteAnswer(a.id)}>Delete</Button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <Button onClick={handleAddAnswer}>Add more Answers</Button>\r\n        <Button type=\"submit\" onClick={handleSubmit}>Start Poll</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate, Navigate } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport const PollList = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  console.log(props.polls);\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center\">\r\n      {props.polls.map((m) => {\r\n        return (\r\n          <div key={m._id} class=\"p-2 sm:w-1/2 w-full\">\r\n            <div onClick={() => navigate(`/admin/${m._id}`)} class=\"bg-gray-100 rounded flex p-4 h-full justify-between hover:bg-yellow-300\">\r\n              <span class=\"title-font font-medium\">\r\n                {m.question}\r\n              </span>\r\n              <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAW0lEQVRIie3UOwqAMBBAwcE7KHj/m2gh+Gm08DixSW1nIroDqbZ4hIUlhBBeaMCKrnR4RsJROt5iz/ETfcRhzIMSb4PmoV/eSaVCVfb8nygsKh2QSaWTGUL4uAv27TYumDohlgAAAABJRU5ErkJggg==\"></img>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Button } from \"../components/Button\";\r\nimport { Link, useNavigate, Navigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/auth\";\r\nimport { TextInput } from \"../components/TextInput\";\r\nimport { CreatePollForm } from \"../components/CreatePollForm\";\r\nimport { PollList } from \"../components/PollList\";\r\nimport axios from \"axios\";\r\n\r\nexport const Home = () => {\r\n  const { isLoggedIn, user: user_id } = useContext(AuthContext);\r\n  const [text, setText] = useState(\"start\");\r\n  const [user, setUser] = useState();\r\n  const navigate = useNavigate();\r\n\r\n\r\n  useEffect(() => {\r\n    if (!user_id) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    axios.get(\"/api/users/\" + user_id._id).then((res) => {\r\n      setUser(res.data);\r\n    });\r\n  }, []);\r\n\r\n  if (!isLoggedIn) return <Navigate to=\"/login\" />;\r\n  if (!user) return <></>;\r\n  return (\r\n    <>\r\n      <div>\r\n        <h1 className=\"text-red-600\">Home</h1>\r\n        <Button onClick={() => console.log(text)} color=\"primary\">\r\n          Tests\r\n        </Button>\r\n        <Button color=\"secondary\">Tests</Button>\r\n        <TextInput\r\n          id=\"testId\"\r\n          label=\"Register here\"\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <CreatePollForm />\r\n      </div>\r\n      <div>\r\n        <Link\r\n          className=\"text-sm text-blue-500 hover:underline\"\r\n          to=\"/admin/61b2361ce9190b203ee1d0f8\"\r\n        >\r\n          Click here to example poll.\r\n        </Link>\r\n      </div>\r\n      <div>\r\n        <PollList polls={user.polls} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { Button } from \"../components/Button\";\r\n\r\nexport const Polls = (props) => {\r\n  const { id } = useParams();\r\n  const [poll, setPoll] = useState();\r\n  const [selectedAnswer, setSelectedAnswer] = useState();\r\n  const [answered, setAnswered] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(id)) {\r\n      setAnswered(true);\r\n    }\r\n    axios.get(`/api/polls/${id}`).then((res) => {\r\n      setPoll(res.data);\r\n    });\r\n  }, [id]);\r\n\r\n  const onChangeValue = (event) => {\r\n    setSelectedAnswer(event.target.value);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const requestBody = { pollId: id, selectedAnswer: selectedAnswer };\r\n\r\n    axios\r\n      .post(\"/api/answers\", requestBody)\r\n      .then((res) => {\r\n        // redirect -> loginName\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setAnswered(true);\r\n    localStorage.setItem(id, true);\r\n  };\r\n\r\n  return !poll ? (\r\n    <></>\r\n  ) : answered ? (\r\n    <section\r\n      id=\"quiz-section\"\r\n      className=\"dark:bg-gray-800 text-gray-600 body-font overflow-hidden min-h-screen bg-gray-100\"\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"container px-5 py-24 mx-auto\">\r\n          <div className=\"flex flex-col items-center flex-wrap -m-12\">\r\n            <div className=\"dark:bg-gray-700 p-12 md:w-1/2 flex flex-col items-start bg-white\">\r\n              <h2 className=\"dark:text-white sm:text-3xl text-2xl title-font font-medium text-gray-900 mt-4 mb-4\">\r\n                Thanks for your participation!\r\n              </h2>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  ) : (\r\n    <>\r\n      <section\r\n        id=\"quiz-section\"\r\n        className=\"dark:bg-gray-800 text-gray-600 body-font overflow-hidden min-h-screen bg-gray-100\"\r\n      >\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"container px-5 py-24 mx-auto\">\r\n            <div className=\"flex flex-col items-center flex-wrap -m-12\">\r\n              <div className=\"dark:bg-gray-700 p-12 md:w-1/2 flex flex-col items-start bg-white\">\r\n                <span className=\"dark:bg-gray-800 inline-block py-1 px-2 rounded bg-yellow-50 text-yellow-500 text-xs font-medium tracking-widest\">\r\n                  {poll.owner} asks\r\n                </span>\r\n                <h2 className=\"dark:text-white sm:text-3xl text-2xl title-font font-medium text-gray-900 mt-4 mb-4\">\r\n                  {poll.question}\r\n                </h2>\r\n                <div onChange={onChangeValue}>\r\n                  {poll.answers.map((a, idx) => {\r\n                    return (\r\n                      <div\r\n                        key={a.id}\r\n                        className=\"dark:text-gray-400 flex items-center mr-4 mb-4\"\r\n                      >\r\n                        <input\r\n                          type=\"radio\"\r\n                          id={a.id}\r\n                          name=\"answer\"\r\n                          value={a.id}\r\n                          className=\"hidden\"\r\n                        />\r\n                        <label\r\n                          htmlFor={a.id}\r\n                          className=\"flex items-center cursor-pointer text-xl\"\r\n                        >\r\n                          <span className=\"w-8 h-8 inline-block mr-2 rounded-full border border-grey flex-no-shrink\"></span>\r\n                          {a.text}\r\n                        </label>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n                <Button type=\"submit\">Vote</Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import { Link, useNavigate, Navigate } from \"react-router-dom\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport Chart from \"react-google-charts\";\r\nimport QRCode from \"qrcode.react\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"../context/auth\";\r\nimport { Button } from \"../components/Button\";\r\nimport axios from \"axios\";\r\n\r\nexport const AdminPolls = () => {\r\n  const { id } = useParams();\r\n  const { isLoggedIn, user } = useContext(AuthContext);\r\n  const [poll, setPoll] = useState();\r\n  const [chartData, setChartData] = useState([]);\r\n  const pollLink = `${window.location.href.split(\"/admin\")[0]}/polls/${id}`;\r\n  console.log(pollLink);\r\n\r\n  const updatePoll = () => {\r\n    axios.get(`/api/polls/${id}`).then((res) => {\r\n      setPoll(res.data);\r\n      setChartData([\r\n        ...res.data.answers.map((a) => [a.text, a.votes, \"#fbbf24\", null]),\r\n      ]);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    updatePoll();\r\n  }, [id]);\r\n\r\n  if (!isLoggedIn) return <Navigate to=\"/login\" />;\r\n  if (!poll) return <></>;\r\n  return (\r\n    <div className=\"flex justify-around flex-wrap\">\r\n      <div className=\"flex flex-col\">\r\n        <Chart\r\n          chartType=\"ColumnChart\"\r\n          loader={<div>Loading Chart</div>}\r\n          data={[\r\n            [\r\n              \"Element\",\r\n              \"votes\",\r\n              { role: \"style\" },\r\n              {\r\n                sourceColumn: 0,\r\n                role: \"annotation\",\r\n                type: \"string\",\r\n                calc: \"stringify\",\r\n              },\r\n            ],\r\n            ...chartData,\r\n          ]}\r\n          options={{\r\n            title: poll.question,\r\n            width: 1200,\r\n            height: 800,\r\n            bar: { groupWidth: \"95%\" },\r\n            legend: { position: \"none\" },\r\n          }}\r\n          // For tests\r\n          rootProps={{ \"data-testid\": \"6\" }}\r\n        />\r\n        <Button className=\"\" onClick={() => updatePoll()}>Refresh</Button>\r\n      </div>\r\n      <div className=\"flex justify-center items-center flex-col\">\r\n        <QRCode\r\n          size={521}\r\n          value={pollLink}\r\n        />\r\n        <p className=\"mt-2\">{pollLink}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Routes, Route } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport axios from \"axios\";\r\nimport { Signup } from \"./pages/Signup\";\r\nimport { Login } from \"./pages/Login\";\r\nimport { Navbar } from \"./components/Navbar\";\r\nimport { Home } from \"./pages/Home\";\r\nimport { Polls } from \"./pages/Polls\";\r\nimport { AdminPolls } from \"./pages/AdminPolls\";\r\n\r\nfunction App() {\r\n  axios\r\n    .get(\"/api/\")\r\n    .then((res) => console.log(res))\r\n    .catch((err) => console.log(err));\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar />\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/signup\" element={<Signup />} />\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/polls/:id\" element={<Polls />} />\r\n        <Route path=\"/admin/:id\" element={<AdminPolls />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { AuthProviderWrapper } from \"./context/auth\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <AuthProviderWrapper>\r\n      <App />\r\n    </AuthProviderWrapper>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}